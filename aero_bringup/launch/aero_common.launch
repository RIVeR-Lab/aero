<launch>
  <include file="$(find aero_control)/launch/aero_control.launch"/>
  
  <node pkg="robot_pose_ekf" type="robot_pose_ekf" ns="/aero" name="base_pose_ekf">
    <param name="publish_tf"   value="true"/>
    <param name="output_frame"   value="odom_combined"/><!-- resolved to tf_prefix -->
    <param name="tf_prefix"   value="/aero"/>
    <param name="freq"           value="100.0"/>
    <param name="sensor_timeout" value=".1"/>

    <param name="odom_used"      value="true"/>
    <param name="imu_used"       value="true"/>
    <param name="vo_used"        value="false"/>

    <remap from="odom"     to="/aero/odom" />
    <remap from="imu_data" to="/aero/imu" />
  </node>

  <node pkg="gmapping" type="slam_gmapping" ns="aero" name="gmapping">
    <param name="odom_frame" value="aero/odom_combined"/>
    <param name="base_frame" value="aero/base_footprint"/>
    <remap from="scan" to="/aero/laser"/>
  </node>
</launch>
